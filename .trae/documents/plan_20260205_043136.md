I will refactor the Chat History to group messages by conversation (phone number).

### **Plan**

1.  **Backend Updates (`server/src/routes.js`)**:
    -   Update `GET /chats` (or create `GET /conversations`) to return a list of unique `remote_jid`s with the latest message snippet and timestamp.
    -   Add `GET /chats/:jid` to fetch the full conversation history for a specific phone number.

2.  **Frontend Updates (`client/src/pages/History.jsx`)**:
    -   **Split View**:
        -   **Left Sidebar**: List of active conversations (cards with phone number + last message).
        -   **Main Area**: Chat window displaying the selected conversation.
    -   **Logic**:
        -   On load, fetch the list of conversations.
        -   When a user clicks a card, fetch and display the messages for that `remote_jid`.
        -   If no conversation is selected, show a "Select a conversation" placeholder.

### **Technical Details**
-   **SQL Query for List**: `SELECT remote_jid, MAX(timestamp) as last_activity, (SELECT message FROM chats c2 WHERE c2.remote_jid = chats.remote_jid ORDER BY timestamp DESC LIMIT 1) as last_message FROM chats GROUP BY remote_jid ORDER BY last_activity DESC`
-   **SQL Query for Details**: `SELECT * FROM chats WHERE remote_jid = ? ORDER BY timestamp ASC`
